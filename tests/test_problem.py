from routers.problem import Problem
from routers.grid import Coord

example_problem = """8 22 3
1 100 220
2 7 
----------------------
-########----########-
-#......######......#-
-#..#...............#-
-#..#...............#-
-#..................#-
-####################-
----------------------"""


def test_router_coverage():
    problem = Problem.ParseInput(example_problem)

    # ----------------------
    # -########----########-
    # -#......######******#-
    # -#..#.........******#-
    # -#..#.........***R**#-
    # -#............******#-
    # -####################-
    # ----------------------
    covered = list(problem.router_coverage(Coord(17, 4)))
    assert len(covered) == 24

    # ----------------------
    # -########----########-
    # -#*R***.######......#-
    # -#**#...............#-
    # -#**#...............#-
    # -#**................#-
    # -####################-
    # ----------------------
    covered = list(problem.router_coverage(Coord(3, 2)))
    assert len(covered) == 11
